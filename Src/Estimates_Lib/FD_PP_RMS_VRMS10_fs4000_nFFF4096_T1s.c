/*
 * Academic License - for use in teaching, academic research, and meeting
 * course requirements at degree granting institutions only.  Not for
 * government, commercial, or other organizational use.
 * File: FD_PP_RMS_VRMS10_fs4000_nFFF4096_T1s.c
 *
 * MATLAB Coder version            : 5.4
 * C/C++ source code generated on  : 15-Jun-2023 14:25:42
 */

/* Include Files */
#include "../Estimates_Lib/FD_PP_RMS_VRMS10_fs4000_nFFF4096_T1s.h"

#include <math.h>
#include <string.h>

#include "../Estimates_Lib/rt_nonfinite.h"
#include "../Estimates_Lib/MW_CMSIS_fft.h"
#include "../Estimates_Lib/mw_cmsis.h"
#include "../Estimates_Lib/rt_nonfinite.h"
#include "ModbusRTU.h" // Terrible

/* Function Declarations */
static float rt_hypotf_snf(float u0, float u1);

/* Function Definitions */
/*
 * Arguments    : float u0
 *                float u1
 * Return Type  : float
 */
static float rt_hypotf_snf(float u0, float u1)
{
  float a;
  float f;
  float y;
  a = fabsf(u0);
  y = fabsf(u1);
  if (a < y) {
    a /= y;
    mw_arm_sqrt_f32(a * a + 1.0F, &f);
    y *= f;
  } else if (a > y) {
    y /= a;
    mw_arm_sqrt_f32(y * y + 1.0F, &f);
    y = a * f;
  } else if (!rtIsNaNF(y)) {
    y = a * 1.41421354F;
  }
  return y;
}

/*
 * codegen
 *
 * Arguments    : const float data[4000]
 *                float *PP
 *                float *RMS
 *                float *VRMS
 * Return Type  : void
 */
void FD_PP_RMS_VRMS10_fs4000_nFFF4096_T1s(const float data[4000], float *PP,
                                          float *RMS, float *VRMS)
{
  static const float fv1[2048] = {0.0F,
                                  5.8889389E-5F,
                                  0.000235527754F,
                                  0.00052985549F,
                                  0.000941872597F,
                                  0.00147140026F,
                                  0.00211834908F,
                                  0.00288259983F,
                                  0.00376388431F,
                                  0.00476208329F,
                                  0.00587695837F,
                                  0.00710815191F,
                                  0.00845548511F,
                                  0.00991857052F,
                                  0.0114971101F,
                                  0.0131906867F,
                                  0.0149989426F,
                                  0.016921401F,
                                  0.0189577043F,
                                  0.0211072564F,
                                  0.0233696103F,
                                  0.0257442296F,
                                  0.0282305777F,
                                  0.0308280289F,
                                  0.0335359573F,
                                  0.0363537669F,
                                  0.0392807722F,
                                  0.0423163474F,
                                  0.0454596877F,
                                  0.048710078F,
                                  0.0520667732F,
                                  0.055529F,
                                  0.0590959489F,
                                  0.0627666712F,
                                  0.0665403903F,
                                  0.0704162419F,
                                  0.0743932128F,
                                  0.0784704387F,
                                  0.082646966F,
                                  0.0869217813F,
                                  0.0912939608F,
                                  0.0957623422F,
                                  0.100325912F,
                                  0.104983628F,
                                  0.109734476F,
                                  0.114577174F,
                                  0.119510621F,
                                  0.124533683F,
                                  0.129645288F,
                                  0.134844035F,
                                  0.140128791F,
                                  0.145498306F,
                                  0.150951326F,
                                  0.15648663F,
                                  0.162102759F,
                                  0.167798489F,
                                  0.173572451F,
                                  0.179423392F,
                                  0.185349762F,
                                  0.191350222F,
                                  0.197423398F,
                                  0.203567922F,
                                  0.209782183F,
                                  0.216064781F,
                                  0.222414285F,
                                  0.228829145F,
                                  0.235307992F,
                                  0.241849065F,
                                  0.248450935F,
                                  0.255112082F,
                                  0.261831F,
                                  0.268605888F,
                                  0.275435328F,
                                  0.282317609F,
                                  0.289251298F,
                                  0.296234488F,
                                  0.303265691F,
                                  0.310343325F,
                                  0.317465544F,
                                  0.324630737F,
                                  0.331837356F,
                                  0.339083493F,
                                  0.346367538F,
                                  0.353687763F,
                                  0.3610425F,
                                  0.368429899F,
                                  0.375848353F,
                                  0.383295953F,
                                  0.390771151F,
                                  0.398271978F,
                                  0.405796856F,
                                  0.413343847F,
                                  0.420911312F,
                                  0.428497344F,
                                  0.436100215F,
                                  0.443718195F,
                                  0.451349378F,
                                  0.458992094F,
                                  0.466644377F,
                                  0.474304587F,
                                  0.481970787F,
                                  0.489641309F,
                                  0.497314215F,
                                  0.504987776F,
                                  0.512660146F,
                                  0.520329595F,
                                  0.527994156F,
                                  0.535652161F,
                                  0.543301761F,
                                  0.550941169F,
                                  0.558568656F,
                                  0.566182256F,
                                  0.573780358F,
                                  0.581361F,
                                  0.588922501F,
                                  0.596463F,
                                  0.603980899F,
                                  0.611474216F,
                                  0.618941307F,
                                  0.626380384F,
                                  0.633789659F,
                                  0.641167462F,
                                  0.648512F,
                                  0.655821562F,
                                  0.663094401F,
                                  0.670328856F,
                                  0.677523136F,
                                  0.684675694F,
                                  0.69178468F,
                                  0.698848605F,
                                  0.705865562F,
                                  0.71283412F,
                                  0.719752431F,
                                  0.726619124F,
                                  0.733432353F,
                                  0.740190625F,
                                  0.746892333F,
                                  0.753535867F,
                                  0.760119677F,
                                  0.766642213F,
                                  0.773102045F,
                                  0.779497504F,
                                  0.785827041F,
                                  0.792089343F,
                                  0.798282862F,
                                  0.804406047F,
                                  0.810457587F,
                                  0.816436F,
                                  0.822339892F,
                                  0.828167796F,
                                  0.833918452F,
                                  0.83959049F,
                                  0.845182538F,
                                  0.850693226F,
                                  0.856121361F,
                                  0.861465573F,
                                  0.86672473F,
                                  0.871897459F,
                                  0.87698257F,
                                  0.881978869F,
                                  0.886885285F,
                                  0.891700506F,
                                  0.896423459F,
                                  0.901053071F,
                                  0.905588269F,
                                  0.910027862F,
                                  0.914370894F,
                                  0.918616354F,
                                  0.922763228F,
                                  0.926810503F,
                                  0.930757225F,
                                  0.934602499F,
                                  0.938345432F,
                                  0.94198513F,
                                  0.945520639F,
                                  0.948951304F,
                                  0.95227623F,
                                  0.955494523F,
                                  0.958605647F,
                                  0.961608708F,
                                  0.96450305F,
                                  0.967288F,
                                  0.969962835F,
                                  0.972527F,
                                  0.974979877F,
                                  0.97732091F,
                                  0.979549468F,
                                  0.981665134F,
                                  0.983667254F,
                                  0.98555553F,
                                  0.987329423F,
                                  0.988988519F,
                                  0.990532517F,
                                  0.991960883F,
                                  0.993273377F,
                                  0.994469762F,
                                  0.995549619F,
                                  0.996512771F,
                                  0.997359F,
                                  0.998088062F,
                                  0.998699784F,
                                  0.999194086F,
                                  0.999570787F,
                                  0.999829829F,
                                  0.999971151F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  1.0F,
                                  0.999971151F,
                                  0.999829829F,
                                  0.999570787F,
                                  0.999194086F,
                                  0.998699784F,
                                  0.998088062F,
                                  0.997359F,
                                  0.996512771F,
                                  0.995549619F,
                                  0.994469762F,
                                  0.993273377F,
                                  0.991960883F,
                                  0.990532517F,
                                  0.988988519F,
                                  0.987329423F,
                                  0.98555553F,
                                  0.983667254F,
                                  0.981665134F,
                                  0.979549468F,
                                  0.97732091F,
                                  0.974979877F,
                                  0.972527F,
                                  0.969962835F,
                                  0.967288F,
                                  0.96450305F,
                                  0.961608708F,
                                  0.958605647F,
                                  0.955494523F,
                                  0.95227623F,
                                  0.948951304F,
                                  0.945520639F,
                                  0.94198513F,
                                  0.938345432F,
                                  0.934602499F,
                                  0.930757225F,
                                  0.926810503F,
                                  0.922763228F,
                                  0.918616354F,
                                  0.914370894F,
                                  0.910027862F,
                                  0.905588269F,
                                  0.901053071F,
                                  0.896423459F,
                                  0.891700506F,
                                  0.886885285F,
                                  0.881978869F,
                                  0.87698257F,
                                  0.871897459F,
                                  0.86672473F,
                                  0.861465573F,
                                  0.856121361F,
                                  0.850693226F,
                                  0.845182538F,
                                  0.83959049F,
                                  0.833918452F,
                                  0.828167796F,
                                  0.822339892F,
                                  0.816436F,
                                  0.810457587F,
                                  0.804406047F,
                                  0.798282862F,
                                  0.792089343F,
                                  0.785827041F,
                                  0.779497504F,
                                  0.773102045F,
                                  0.766642213F,
                                  0.760119677F,
                                  0.753535867F,
                                  0.746892333F,
                                  0.740190625F,
                                  0.733432353F,
                                  0.726619124F,
                                  0.719752431F,
                                  0.71283412F,
                                  0.705865562F,
                                  0.698848605F,
                                  0.69178468F,
                                  0.684675694F,
                                  0.677523136F,
                                  0.670328856F,
                                  0.663094401F,
                                  0.655821562F,
                                  0.648512F,
                                  0.641167462F,
                                  0.633789659F,
                                  0.626380384F,
                                  0.618941307F,
                                  0.611474216F,
                                  0.603980899F,
                                  0.596463F,
                                  0.588922501F,
                                  0.581361F,
                                  0.573780358F,
                                  0.566182256F,
                                  0.558568656F,
                                  0.550941169F,
                                  0.543301761F,
                                  0.535652161F,
                                  0.527994156F,
                                  0.520329595F,
                                  0.512660146F,
                                  0.504987776F,
                                  0.497314215F,
                                  0.489641309F,
                                  0.481970787F,
                                  0.474304587F,
                                  0.466644377F,
                                  0.458992094F,
                                  0.451349378F,
                                  0.443718195F,
                                  0.436100215F,
                                  0.428497344F,
                                  0.420911312F,
                                  0.413343847F,
                                  0.405796856F,
                                  0.398271978F,
                                  0.390771151F,
                                  0.383295953F,
                                  0.375848353F,
                                  0.368429899F,
                                  0.3610425F,
                                  0.353687763F,
                                  0.346367538F,
                                  0.339083493F,
                                  0.331837356F,
                                  0.324630737F,
                                  0.317465544F,
                                  0.310343325F,
                                  0.303265691F,
                                  0.296234488F,
                                  0.289251298F,
                                  0.282317609F,
                                  0.275435328F,
                                  0.268605888F,
                                  0.261831F,
                                  0.255112082F,
                                  0.248450935F,
                                  0.241849065F,
                                  0.235307992F,
                                  0.228829145F,
                                  0.222414285F,
                                  0.216064781F,
                                  0.209782183F,
                                  0.203567922F,
                                  0.197423398F,
                                  0.191350222F,
                                  0.185349762F,
                                  0.179423392F,
                                  0.173572451F,
                                  0.167798489F,
                                  0.162102759F,
                                  0.15648663F,
                                  0.150951326F,
                                  0.145498306F,
                                  0.140128791F,
                                  0.134844035F,
                                  0.129645288F,
                                  0.124533683F,
                                  0.119510621F,
                                  0.114577174F,
                                  0.109734476F,
                                  0.104983628F,
                                  0.100325912F,
                                  0.0957623422F,
                                  0.0912939608F,
                                  0.0869217813F,
                                  0.082646966F,
                                  0.0784704387F,
                                  0.0743932128F,
                                  0.0704162419F,
                                  0.0665403903F,
                                  0.0627666712F,
                                  0.0590959489F,
                                  0.055529F,
                                  0.0520667732F,
                                  0.048710078F,
                                  0.0454596877F,
                                  0.0423163474F,
                                  0.0392807722F,
                                  0.0363537669F,
                                  0.0335359573F,
                                  0.0308280289F,
                                  0.0282305777F,
                                  0.0257442296F,
                                  0.0233696103F,
                                  0.0211072564F,
                                  0.0189577043F,
                                  0.016921401F,
                                  0.0149989426F,
                                  0.0131906867F,
                                  0.0114971101F,
                                  0.00991857052F,
                                  0.00845548511F,
                                  0.00710815191F,
                                  0.00587695837F,
                                  0.00476208329F,
                                  0.00376388431F,
                                  0.00288259983F,
                                  0.00211834908F,
                                  0.00147140026F,
                                  0.000941872597F,
                                  0.00052985549F,
                                  0.000235527754F,
                                  5.8889389E-5F,
                                  0.0F};
  static const float c_y[1024] = {
      12.2718468F, 24.5436935F, 36.8155403F, 49.0873871F, 61.3592339F,
      73.6310806F, 85.9029236F, 98.1747742F, 110.446617F, 122.718468F,
      134.990311F, 147.262161F, 159.534012F, 171.805847F, 184.077698F,
      196.349548F, 208.621399F, 220.893234F, 233.165085F, 245.436935F,
      257.708771F, 269.980621F, 282.252472F, 294.524323F, 306.796173F,
      319.068024F, 331.339874F, 343.611694F, 355.883545F, 368.155396F,
      380.427246F, 392.699097F, 404.970947F, 417.242798F, 429.514618F,
      441.786469F, 454.058319F, 466.33017F,  478.60202F,  490.873871F,
      503.145721F, 515.417542F, 527.689392F, 539.961243F, 552.233093F,
      564.504944F, 576.776794F, 589.048645F, 601.320496F, 613.592346F,
      625.864197F, 638.136047F, 650.407898F, 662.679749F, 674.951538F,
      687.223389F, 699.495239F, 711.76709F,  724.03894F,  736.310791F,
      748.582642F, 760.854492F, 773.126343F, 785.398193F, 797.670044F,
      809.941895F, 822.213745F, 834.485596F, 846.757446F, 859.029236F,
      871.301086F, 883.572937F, 895.844788F, 908.116638F, 920.388489F,
      932.660339F, 944.93219F,  957.204041F, 969.475891F, 981.747742F,
      994.019592F, 1006.29144F, 1018.56329F, 1030.83508F, 1043.10693F,
      1055.37878F, 1067.65063F, 1079.92249F, 1092.19434F, 1104.46619F,
      1116.73804F, 1129.00989F, 1141.28174F, 1153.55359F, 1165.82544F,
      1178.09729F, 1190.36914F, 1202.64099F, 1214.91284F, 1227.18469F,
      1239.45654F, 1251.72839F, 1264.00024F, 1276.27209F, 1288.54395F,
      1300.8158F,  1313.08765F, 1325.3595F,  1337.63123F, 1349.90308F,
      1362.17493F, 1374.44678F, 1386.71863F, 1398.99048F, 1411.26233F,
      1423.53418F, 1435.80603F, 1448.07788F, 1460.34973F, 1472.62158F,
      1484.89343F, 1497.16528F, 1509.43713F, 1521.70898F, 1533.98083F,
      1546.25269F, 1558.52454F, 1570.79639F, 1583.06824F, 1595.34009F,
      1607.61194F, 1619.88379F, 1632.15564F, 1644.42749F, 1656.69934F,
      1668.97119F, 1681.24304F, 1693.51489F, 1705.78674F, 1718.05847F,
      1730.33032F, 1742.60217F, 1754.87402F, 1767.14587F, 1779.41772F,
      1791.68958F, 1803.96143F, 1816.23328F, 1828.50513F, 1840.77698F,
      1853.04883F, 1865.32068F, 1877.59253F, 1889.86438F, 1902.13623F,
      1914.40808F, 1926.67993F, 1938.95178F, 1951.22363F, 1963.49548F,
      1975.76733F, 1988.03918F, 2000.31104F, 2012.58289F, 2024.85474F,
      2037.12659F, 2049.39844F, 2061.67017F, 2073.94214F, 2086.21387F,
      2098.48584F, 2110.75757F, 2123.02954F, 2135.30127F, 2147.57324F,
      2159.84497F, 2172.11694F, 2184.38867F, 2196.66064F, 2208.93237F,
      2221.20435F, 2233.47607F, 2245.74805F, 2258.01978F, 2270.29175F,
      2282.56348F, 2294.83521F, 2307.10718F, 2319.37891F, 2331.65088F,
      2343.92261F, 2356.19458F, 2368.46631F, 2380.73828F, 2393.01F,
      2405.28198F, 2417.55371F, 2429.82568F, 2442.09741F, 2454.36938F,
      2466.64111F, 2478.91309F, 2491.18481F, 2503.45679F, 2515.72852F,
      2528.00049F, 2540.27222F, 2552.54419F, 2564.81592F, 2577.08789F,
      2589.35962F, 2601.63159F, 2613.90332F, 2626.17529F, 2638.44702F,
      2650.71899F, 2662.99072F, 2675.26245F, 2687.53442F, 2699.80615F,
      2712.07812F, 2724.34985F, 2736.62183F, 2748.89355F, 2761.16553F,
      2773.43726F, 2785.70923F, 2797.98096F, 2810.25293F, 2822.52466F,
      2834.79663F, 2847.06836F, 2859.34033F, 2871.61206F, 2883.88403F,
      2896.15576F, 2908.42773F, 2920.69946F, 2932.97144F, 2945.24316F,
      2957.51514F, 2969.78687F, 2982.05884F, 2994.33057F, 3006.60254F,
      3018.87427F, 3031.14624F, 3043.41797F, 3055.6897F,  3067.96167F,
      3080.2334F,  3092.50537F, 3104.7771F,  3117.04907F, 3129.3208F,
      3141.59277F, 3153.8645F,  3166.13647F, 3178.4082F,  3190.68018F,
      3202.9519F,  3215.22388F, 3227.49561F, 3239.76758F, 3252.03931F,
      3264.31128F, 3276.58301F, 3288.85498F, 3301.12671F, 3313.39868F,
      3325.67041F, 3337.94238F, 3350.21411F, 3362.48608F, 3374.75781F,
      3387.02979F, 3399.30151F, 3411.57349F, 3423.84521F, 3436.11694F,
      3448.38892F, 3460.66064F, 3472.93262F, 3485.20435F, 3497.47632F,
      3509.74805F, 3522.02F,    3534.29175F, 3546.56372F, 3558.83545F,
      3571.10742F, 3583.37915F, 3595.65112F, 3607.92285F, 3620.19482F,
      3632.46655F, 3644.73853F, 3657.01025F, 3669.28223F, 3681.55396F,
      3693.82593F, 3706.09766F, 3718.36963F, 3730.64136F, 3742.91333F,
      3755.18506F, 3767.45703F, 3779.72876F, 3792.00073F, 3804.27246F,
      3816.54419F, 3828.81616F, 3841.08789F, 3853.35986F, 3865.63159F,
      3877.90356F, 3890.17529F, 3902.44727F, 3914.71899F, 3926.99097F,
      3939.2627F,  3951.53467F, 3963.8064F,  3976.07837F, 3988.35F,
      4000.62207F, 4012.8938F,  4025.16577F, 4037.4375F,  4049.70947F,
      4061.9812F,  4074.25317F, 4086.5249F,  4098.79688F, 4111.06885F,
      4123.34033F, 4135.6123F,  4147.88428F, 4160.15625F, 4172.42773F,
      4184.69971F, 4196.97168F, 4209.24316F, 4221.51514F, 4233.78711F,
      4246.05908F, 4258.33057F, 4270.60254F, 4282.87451F, 4295.14648F,
      4307.41797F, 4319.69F,    4331.96191F, 4344.23389F, 4356.50537F,
      4368.77734F, 4381.04932F, 4393.32129F, 4405.59277F, 4417.86475F,
      4430.13672F, 4442.40869F, 4454.68F,    4466.95215F, 4479.22412F,
      4491.49609F, 4503.76758F, 4516.03955F, 4528.31152F, 4540.5835F,
      4552.85498F, 4565.12695F, 4577.39893F, 4589.67041F, 4601.94238F,
      4614.21436F, 4626.48633F, 4638.75781F, 4651.03F,    4663.30176F,
      4675.57373F, 4687.84521F, 4700.11719F, 4712.38916F, 4724.66113F,
      4736.93262F, 4749.20459F, 4761.47656F, 4773.74854F, 4786.02F,
      4798.29199F, 4810.56396F, 4822.83594F, 4835.10742F, 4847.37939F,
      4859.65137F, 4871.92334F, 4884.19482F, 4896.4668F,  4908.73877F,
      4921.01074F, 4933.28223F, 4945.5542F,  4957.82617F, 4970.09766F,
      4982.36963F, 4994.6416F,  5006.91357F, 5019.18506F, 5031.45703F,
      5043.729F,   5056.00098F, 5068.27246F, 5080.54443F, 5092.81641F,
      5105.08838F, 5117.36F,    5129.63184F, 5141.90381F, 5154.17578F,
      5166.44727F, 5178.71924F, 5190.99121F, 5203.26318F, 5215.53467F,
      5227.80664F, 5240.07861F, 5252.35059F, 5264.62207F, 5276.89404F,
      5289.16602F, 5301.43799F, 5313.70947F, 5325.98145F, 5338.25342F,
      5350.5249F,  5362.79688F, 5375.06885F, 5387.34082F, 5399.6123F,
      5411.88428F, 5424.15625F, 5436.42822F, 5448.69971F, 5460.97168F,
      5473.24365F, 5485.51562F, 5497.78711F, 5510.05908F, 5522.33105F,
      5534.60303F, 5546.87451F, 5559.14648F, 5571.41846F, 5583.69043F,
      5595.96191F, 5608.23389F, 5620.50586F, 5632.77783F, 5645.04932F,
      5657.32129F, 5669.59326F, 5681.86523F, 5694.13672F, 5706.40869F,
      5718.68066F, 5730.95215F, 5743.22412F, 5755.49609F, 5767.76807F,
      5780.03955F, 5792.31152F, 5804.5835F,  5816.85547F, 5829.12695F,
      5841.39893F, 5853.6709F,  5865.94287F, 5878.21436F, 5890.48633F,
      5902.7583F,  5915.03027F, 5927.30176F, 5939.57373F, 5951.8457F,
      5964.11768F, 5976.38916F, 5988.66113F, 6000.93311F, 6013.20508F,
      6025.47656F, 6037.74854F, 6050.02051F, 6062.29248F, 6074.56396F,
      6086.83594F, 6099.10791F, 6111.37939F, 6123.65137F, 6135.92334F,
      6148.19531F, 6160.4668F,  6172.73877F, 6185.01074F, 6197.28271F,
      6209.5542F,  6221.82617F, 6234.09814F, 6246.37F,    6258.6416F,
      6270.91357F, 6283.18555F, 6295.45752F, 6307.729F,   6320.00098F,
      6332.27295F, 6344.54492F, 6356.81641F, 6369.08838F, 6381.36035F,
      6393.63232F, 6405.90381F, 6418.17578F, 6430.44775F, 6442.71973F,
      6454.99121F, 6467.26318F, 6479.53516F, 6491.80664F, 6504.07861F,
      6516.35059F, 6528.62256F, 6540.89404F, 6553.16602F, 6565.43799F,
      6577.71F,    6589.98145F, 6602.25342F, 6614.52539F, 6626.79736F,
      6639.06885F, 6651.34082F, 6663.61279F, 6675.88477F, 6688.15625F,
      6700.42822F, 6712.7F,     6724.97217F, 6737.24365F, 6749.51562F,
      6761.7876F,  6774.05957F, 6786.33105F, 6798.60303F, 6810.875F,
      6823.14697F, 6835.41846F, 6847.69043F, 6859.9624F,  6872.23389F,
      6884.50586F, 6896.77783F, 6909.05F,    6921.32129F, 6933.59326F,
      6945.86523F, 6958.13721F, 6970.40869F, 6982.68066F, 6994.95264F,
      7007.22461F, 7019.49609F, 7031.76807F, 7044.04F,    7056.31201F,
      7068.5835F,  7080.85547F, 7093.12744F, 7105.39941F, 7117.6709F,
      7129.94287F, 7142.21484F, 7154.48682F, 7166.7583F,  7179.03027F,
      7191.30225F, 7203.57422F, 7215.8457F,  7228.11768F, 7240.38965F,
      7252.66113F, 7264.93311F, 7277.20508F, 7289.47705F, 7301.74854F,
      7314.02051F, 7326.29248F, 7338.56445F, 7350.83594F, 7363.10791F,
      7375.38F,    7387.65186F, 7399.92334F, 7412.19531F, 7424.46729F,
      7436.73926F, 7449.01074F, 7461.28271F, 7473.55469F, 7485.82666F,
      7498.09814F, 7510.37F,    7522.64209F, 7534.91406F, 7547.18555F,
      7559.45752F, 7571.72949F, 7584.00146F, 7596.27295F, 7608.54492F,
      7620.81689F, 7633.08838F, 7645.36035F, 7657.63232F, 7669.9043F,
      7682.17578F, 7694.44775F, 7706.71973F, 7718.9917F,  7731.26318F,
      7743.53516F, 7755.80713F, 7768.0791F,  7780.35059F, 7792.62256F,
      7804.89453F, 7817.1665F,  7829.43799F, 7841.71F,    7853.98193F,
      7866.25391F, 7878.52539F, 7890.79736F, 7903.06934F, 7915.34131F,
      7927.61279F, 7939.88477F, 7952.15674F, 7964.42871F, 7976.7F,
      7988.97217F, 8001.24414F, 8013.51562F, 8025.7876F,  8038.05957F,
      8050.33154F, 8062.60303F, 8074.875F,   8087.14697F, 8099.41895F,
      8111.69043F, 8123.9624F,  8136.23438F, 8148.50635F, 8160.77783F,
      8173.05F,    8185.32178F, 8197.59375F, 8209.86523F, 8222.1377F,
      8234.40918F, 8246.68066F, 8258.95312F, 8271.22461F, 8283.49609F,
      8295.76855F, 8308.04F,    8320.3125F,  8332.58398F, 8344.85547F,
      8357.12793F, 8369.39941F, 8381.6709F,  8393.94336F, 8406.21484F,
      8418.48633F, 8430.75879F, 8443.03F,    8455.30273F, 8467.57422F,
      8479.8457F,  8492.11816F, 8504.39F,    8516.66113F, 8528.93359F,
      8541.20508F, 8553.47754F, 8565.74902F, 8578.02051F, 8590.29297F,
      8602.56445F, 8614.83594F, 8627.1084F,  8639.38F,    8651.65234F,
      8663.92383F, 8676.19531F, 8688.46777F, 8700.73926F, 8713.01074F,
      8725.2832F,  8737.55469F, 8749.82617F, 8762.09863F, 8774.37F,
      8786.64258F, 8798.91406F, 8811.18555F, 8823.45801F, 8835.72949F,
      8848.00098F, 8860.27344F, 8872.54492F, 8884.81738F, 8897.08887F,
      8909.36F,    8921.63281F, 8933.9043F,  8946.17578F, 8958.44824F,
      8970.72F,    8982.99219F, 8995.26367F, 9007.53516F, 9019.80762F,
      9032.0791F,  9044.35059F, 9056.62305F, 9068.89453F, 9081.16699F,
      9093.43848F, 9105.71F,    9117.98242F, 9130.25391F, 9142.52539F,
      9154.79785F, 9167.06934F, 9179.34082F, 9191.61328F, 9203.88477F,
      9216.15723F, 9228.42871F, 9240.7F,     9252.97266F, 9265.24414F,
      9277.51562F, 9289.78809F, 9302.06F,    9314.33203F, 9326.60352F,
      9338.875F,   9351.14746F, 9363.41895F, 9375.69F,    9387.96289F,
      9400.23438F, 9412.50684F, 9424.77832F, 9437.05F,    9449.32227F,
      9461.59375F, 9473.86523F, 9486.1377F,  9498.40918F, 9510.68066F,
      9522.95312F, 9535.22461F, 9547.49707F, 9559.76855F, 9572.04F,
      9584.3125F,  9596.58398F, 9608.85547F, 9621.12793F, 9633.39941F,
      9645.67188F, 9657.94336F, 9670.21484F, 9682.4873F,  9694.75879F,
      9707.03F,    9719.30273F, 9731.57422F, 9743.84668F, 9756.11816F,
      9768.39F,    9780.66211F, 9792.93359F, 9805.20508F, 9817.47754F,
      9829.74902F, 9842.02148F, 9854.29297F, 9866.56445F, 9878.83691F,
      9891.1084F,  9903.38F,    9915.65234F, 9927.92383F, 9940.19531F,
      9952.46777F, 9964.73926F, 9977.01172F, 9989.2832F,  10001.5547F,
      10013.8271F, 10026.0986F, 10038.3701F, 10050.6426F, 10062.9141F,
      10075.1865F, 10087.458F,  10099.7295F, 10112.002F,  10124.2734F,
      10136.5449F, 10148.8174F, 10161.0889F, 10173.3613F, 10185.6328F,
      10197.9043F, 10210.1768F, 10222.4482F, 10234.7197F, 10246.9922F,
      10259.2637F, 10271.5352F, 10283.8076F, 10296.0791F, 10308.3516F,
      10320.623F,  10332.8945F, 10345.167F,  10357.4385F, 10369.71F,
      10381.9824F, 10394.2539F, 10406.5264F, 10418.7979F, 10431.0693F,
      10443.3418F, 10455.6133F, 10467.8848F, 10480.1572F, 10492.4287F,
      10504.7012F, 10516.9727F, 10529.2441F, 10541.5166F, 10553.7881F,
      10566.0596F, 10578.332F,  10590.6035F, 10602.876F,  10615.1475F,
      10627.4189F, 10639.6914F, 10651.9629F, 10664.2344F, 10676.5068F,
      10688.7783F, 10701.0498F, 10713.3223F, 10725.5938F, 10737.8662F,
      10750.1377F, 10762.4092F, 10774.6816F, 10786.9531F, 10799.2246F,
      10811.4971F, 10823.7686F, 10836.041F,  10848.3125F, 10860.584F,
      10872.8564F, 10885.1279F, 10897.3994F, 10909.6719F, 10921.9434F,
      10934.2158F, 10946.4873F, 10958.7588F, 10971.0312F, 10983.3027F,
      10995.5742F, 11007.8467F, 11020.1182F, 11032.3896F, 11044.6621F,
      11056.9336F, 11069.2061F, 11081.4775F, 11093.749F,  11106.0215F,
      11118.293F,  11130.5645F, 11142.8369F, 11155.1084F, 11167.3809F,
      11179.6523F, 11191.9238F, 11204.1963F, 11216.4678F, 11228.7393F,
      11241.0117F, 11253.2832F, 11265.5557F, 11277.8271F, 11290.0986F,
      11302.3711F, 11314.6426F, 11326.9141F, 11339.1865F, 11351.458F,
      11363.7305F, 11376.002F,  11388.2734F, 11400.5459F, 11412.8174F,
      11425.0889F, 11437.3613F, 11449.6328F, 11461.9043F, 11474.1768F,
      11486.4482F, 11498.7207F, 11510.9922F, 11523.2637F, 11535.5361F,
      11547.8076F, 11560.0791F, 11572.3516F, 11584.623F,  11596.8955F,
      11609.167F,  11621.4385F, 11633.7109F, 11645.9824F, 11658.2539F,
      11670.5264F, 11682.7979F, 11695.0703F, 11707.3418F, 11719.6133F,
      11731.8857F, 11744.1572F, 11756.4287F, 11768.7012F, 11780.9727F,
      11793.2441F, 11805.5166F, 11817.7881F, 11830.0605F, 11842.332F,
      11854.6035F, 11866.876F,  11879.1475F, 11891.4189F, 11903.6914F,
      11915.9629F, 11928.2354F, 11940.5068F, 11952.7783F, 11965.0508F,
      11977.3223F, 11989.5938F, 12001.8662F, 12014.1377F, 12026.4102F,
      12038.6816F, 12050.9531F, 12063.2256F, 12075.4971F, 12087.7686F,
      12100.041F,  12112.3125F, 12124.585F,  12136.8564F, 12149.1279F,
      12161.4F,    12173.6719F, 12185.9434F, 12198.2158F, 12210.4873F,
      12222.7588F, 12235.0312F, 12247.3027F, 12259.5752F, 12271.8467F,
      12284.1182F, 12296.3906F, 12308.6621F, 12320.9336F, 12333.2061F,
      12345.4775F, 12357.75F,   12370.0215F, 12382.293F,  12394.5654F,
      12406.8369F, 12419.1084F, 12431.3809F, 12443.6523F, 12455.9248F,
      12468.1963F, 12480.4678F, 12492.7402F, 12505.0117F, 12517.2832F,
      12529.5557F, 12541.8271F, 12554.0986F, 12566.3711F};
  creal32_T fcnOutput[2048];
  float fv[2048];
  float x[2048];
  float y[2048];
  float PP_frag[2];
  float RMS_frag[2];
  float avg_end;
  float avg_start;
  float bsum;
  int i;
  int idx;
  int k;
  /*  DESCRIPTION */
  /*  PP  obliczana jest jako najmniejsza wartosc z 2 fragmentow */
  /*  RMS obliczana jest jako srednia wartosc z 2 fragmentow  */
  /*  VRMS obliczany jest jako najmniejsza wartosc z 2 fragemntow, z dedykowanym
   * overlapem (FFT) */
  /*  -------------------------------------------------------------------------
   */
  /*  ------------------- COMMON STATIC PARAMETERS ----------------------------
   */
  /*  -------------------------------------------------------------------------
   */
  /*  sampling frequency */
  /*  -------------------------------------------------------------------------
   */
  /*  ---------------- KONFIGURACJA STATYCZNA PP i RMS ------------------------
   */
  /*  -------------------------------------------------------------------------
   */
  /* %% for VRMS & ENV: w_len=4096 */
  /*  -------------------------------------------------------------------------
   */
  /*  ------------------------ PP i RMS ---------------------------------------
   */
  /*  -------------------------------------------------------------------------
   */
  /*  index_from = coder.const([1     8001 16001 24001]); */
  /*  index_till = coder.const([8000 16000 24000 32000]); */
  for (i = 0; i < 2; i++) {
    bool b;
    bool exitg1;
    /*    index_from  = w_len_BB*(i-1) + 1;           % ECoder-->Memory-->Static
     * size */
    /*    index_till  = index_from + w_len_BB - 1;    % ECoder-->Memory-->Static
     * size */
    /*    x           = zeros(1,w_len_BB);            % ECoder-->Memory-->Static
     * size */
    /*    x           = data(index_from:index_till);  % ECoder-->Memory-->Static
     * size  */
    if (i + 1 == 1) {
      memcpy(&x[0], &data[0], 2048U * sizeof(float));
      /*      case 2 */
      /*          x = data(8001:16000); */
      /*      case 3 */
      /*          x = data(16001:24000); */
    } else {
      memcpy(&x[0], &data[1952], 2048U * sizeof(float));
    }
    /*      x(1:8000)   = data(index_from(i):index_till(i));  %
     * ECoder-->Memory-->Static size */
    avg_end = x[0];
    bsum = x[1024];
    for (k = 0; k < 1023; k++) {
      avg_end += x[k + 1];
      bsum += x[k + 1025];
    }
    avg_end += bsum;
    bsum = avg_end / 2048.0F;
    for (idx = 0; idx < 2048; idx++) {
      x[idx] -= bsum;
    }
    b = rtIsNaNF(x[0]);
    if (!b) {
      idx = 1;
    } else {
      idx = 0;
      k = 2;
      exitg1 = false;
      while ((!exitg1) && (k < 2049)) {
        if (!rtIsNaNF(x[k - 1])) {
          idx = k;
          exitg1 = true;
        } else {
          k++;
        }
      }
    }
    if (idx == 0) {
      bsum = x[0];
    } else {
      bsum = x[idx - 1];
      idx++;
      for (k = idx; k < 2049; k++) {
        avg_start = x[k - 1];
        if (bsum < avg_start) {
          bsum = avg_start;
        }
      }
    }
    if (!b) {
      idx = 1;
    } else {
      idx = 0;
      k = 2;
      exitg1 = false;
      while ((!exitg1) && (k < 2049)) {
        if (!rtIsNaNF(x[k - 1])) {
          idx = k;
          exitg1 = true;
        } else {
          k++;
        }
      }
    }
    if (idx == 0) {
      avg_end = x[0];
    } else {
      avg_end = x[idx - 1];
      idx++;
      for (k = idx; k < 2049; k++) {
        avg_start = x[k - 1];
        if (avg_end > avg_start) {
          avg_end = avg_start;
        }
      }
    }
    PP_frag[i] = bsum - avg_end;
    for (k = 0; k < 2048; k++) {
      avg_start = x[k];
      y[k] = avg_start * avg_start;
    }
    avg_end = y[0];
    bsum = y[1024];
    for (k = 0; k < 1023; k++) {
      avg_end += y[k + 1];
      bsum += y[k + 1025];
    }
    avg_end += bsum;
    mw_arm_sqrt_f32(0.00048828125F * avg_end, &RMS_frag[i]);
    modbusRTU_loop();
  }
  if ((PP_frag[0] > PP_frag[1]) ||
      (rtIsNaNF(PP_frag[0]) && (!rtIsNaNF(PP_frag[1])))) {
    *PP = PP_frag[1];
  } else {
    *PP = PP_frag[0];
  }
  *RMS = (RMS_frag[0] + RMS_frag[1]) / 2.0F;
  /*  clear x; */
  /*  -------------------------------------------------------------------------
   */
  /*  ---------------- KONFIGURACJA STATYCZNA VRMS ----------------------------
   */
  /*  -------------------------------------------------------------------------
   */
  /*  w_len      = 4096;          % fixed for all FFT input; VRMS & ENV */
  /*  pasmo VRMS [Hz] */
  /*  fixed for all fs (ilosc fragmentow z zakladka) */
  /*  % dec_factor = 1;             % Calculate_Decimation_Factor (wyjatkowo
   * static TARGET_1s=8192) */
  /*  k          = 200;           % Detrend: number of points taken for calc. at
   * start and end */
  /*  Detrend: 10% difference start vs end requires linear detrend */
  /*  N          = 4096;          % Detrend: N = w_len */
  /*  -------------------------------------------------------------------------
   */
  /*  ------------------------ VRMS -------------------------------------------
   */
  /*  -------------------------------------------------------------------------
   */
  /*  Generate_Tukey_Window */
  /*  % % data_down   = data(1:dec_factor:fs);    % Downsample_Data: <8000 x
   * 1> */
  /*  % % fs_new      = ceil(fs/dec_factor);      % Calculate_Fs_New: 32000
   * Hz/4 = 8000 Hz */
  /*  N_overlap   = floor(w_len-(fs_new-w_len)/(No_frag-1))+1; %
   * Calculate_Overlap: 2795 */
  /*       % nowa sampling frequency:            1.953125 Hz */
  /*  wektor skalujacy A-->V:             <2048 x 1> */
  for (i = 0; i < 2; i++) {
    float b_y[508];
    if (i + 1 == 1) {
      memcpy(&x[0], &data[0], 2048U * sizeof(float));
      /*          case 2 */
      /*              x = data_down(1302:5397); */
      /*          case 3 */
      /*              x = data_down(2603:6698); */
    } else {
      memcpy(&x[0], &data[1952], 2048U * sizeof(float));
    }
    /*  %     rindex_from    = (w_len - N_overlap)*(i-1) + 1;    % [   1 1302
     * 2603 3904] */
    /*  % %     index_till    = index_from + w_len - 1; */
    /*  % %     x             = data_down(index_from:index_till); % [4096 5397
     * 6698 7999] */
    /*  --------------------------------------------------------------------- */
    /*  Detrend START */
    /*  --------------------------------------------------------------------- */
    bsum = x[0];
    /*  begining of signal */
    avg_end = x[1948];
    for (k = 0; k < 99; k++) {
      bsum += x[k + 1];
      avg_end += x[k + 1949];
    }
    avg_start = bsum / 100.0F;
    avg_end /= 100.0F;
    /*  end of signal */
    bsum = 0.1F * avg_start;
    PP_frag[0] = avg_start - bsum;
    PP_frag[1] = avg_start + bsum;
    idx = 0;
    /*  change to 1 if variation significant */
    if ((PP_frag[0] < PP_frag[1]) ||
        (rtIsNaNF(PP_frag[0]) && (!rtIsNaNF(PP_frag[1])))) {
      bsum = PP_frag[1];
    } else {
      bsum = PP_frag[0];
    }
    if (avg_end > bsum) {
      idx = 1;
    } else {
      if ((PP_frag[0] > PP_frag[1]) ||
          (rtIsNaNF(PP_frag[0]) && (!rtIsNaNF(PP_frag[1])))) {
        bsum = PP_frag[1];
      } else {
        bsum = PP_frag[0];
      }
      if (avg_end < bsum) {
        idx = 1;
      }
    }
    if (idx == 0) {
      /*  DC detrend */
      avg_end = x[0];
      bsum = x[1024];
      for (k = 0; k < 1023; k++) {
        avg_end += x[k + 1];
        bsum += x[k + 1025];
      }
      avg_end += bsum;
      bsum = avg_end / 2048.0F;
      for (idx = 0; idx < 2048; idx++) {
        x[idx] -= bsum;
      }
    } else {
      /*  linear detrend */
      PP_frag[1] = (avg_end - avg_start) / 1948.0F;
      PP_frag[0] = avg_start - PP_frag[1] * 50.0F;
      /*  Calculate Parameter Vector */
      /*  y = a*x+b */
      avg_start = PP_frag[1];
      bsum = PP_frag[0];
      for (idx = 0; idx < 2048; idx++) {
        y[idx] = avg_start * ((float)idx + 1.0F) + bsum;
      }
      mw_arm_sub_f32(&x[0], &y[0], &fv[0], 2048U);
      memcpy(&x[0], &fv[0], 2048U * sizeof(float));
    }
    /*  --------------------------------------------------------------------- */
    /*  Detrend STOP */
    /*  --------------------------------------------------------------------- */
    mw_arm_mult_f32(&x[0], &fv1[0], &y[0], 2048U);
    memcpy(&x[0], &y[0], 2048U * sizeof(float));
    mw_cmsis_fft_do_real(&x[0], &fcnOutput[0], 2048U, 0U);
    for (k = 0; k < 2048; k++) {
      x[k] = rt_hypotf_snf(fcnOutput[k].re, fcnOutput[k].im);
    }
    /*  spectral Acceleration amplitudes */
    /*  spectral Velocity amplitudes  */
    /*  5 */
    /*  512 */
    for (k = 0; k < 508; k++) {
      avg_start = 9810.0F * (x[k + 5] / 1024.0F) / c_y[k + 4];
      b_y[k] = avg_start * avg_start;
    }
    bsum = b_y[0];
    for (k = 0; k < 507; k++) {
      bsum += b_y[k + 1];
    }
    mw_arm_sqrt_f32(0.5F * bsum, &RMS_frag[i]);
    modbusRTU_loop();
  }
  /*  clear data_down win Acc Vel x_det x_det_win Y scaling_int */
  if ((RMS_frag[0] > RMS_frag[1]) ||
      (rtIsNaNF(RMS_frag[0]) && (!rtIsNaNF(RMS_frag[1])))) {
    *VRMS = RMS_frag[1];
  } else {
    *VRMS = RMS_frag[0];
  }
}

/*
 * File trailer for FD_PP_RMS_VRMS10_fs4000_nFFF4096_T1s.c
 *
 * [EOF]
 */
